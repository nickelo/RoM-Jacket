SET CAMIGHDD=
SET CAMIGDSK=
SET CAMIGDSK1=
SET CAMIGDSK2=
SET CAMIGDSK3=
SET CAMIGDSK4=
SET CAMIGDSK5=
SET CAMIGDSK6=
SET CAMIGDSK7=
SET CAMIGDSK8=
SET CAMIGDSK9=
SET CAMIGDSK10=
SET CAMIGDSK11=
SET CAMIGDSK12=
SET CAMIGDSK13=
SET CAMIGDSK14=
SET CAMIGDSK15=

for /f "delims=" %%a in ('dir /b /a-d "%CD%\*Disk 1*"') do (
if /I "%%~xa"==".adf" SET CAMIGDSK1=%%~a
if /I "%%~xa"==".ipf" SET CAMIGDSK1=%%~a
)

for /f "delims=" %%a in ('dir /b /a-d "%CD%\*Disk_1*"') do (
if /I "%%~xa"==".adf" SET CAMIGDSK1=%%~a
if /I "%%~xa"==".ipf" SET CAMIGDSK1=%%~a
)

for /f "delims=" %%a in ('dir /b /a-d "%CD%\*Disk1*"') do (
if /I "%%~xa"==".adf" SET CAMIGDSK1=%%~a
if /I "%%~xa"==".ipf" SET CAMIGDSK1=%%~a
)

for /f "delims=" %%a in ('dir /b /a-d "%CD%\*Disk 2*"') do (
if /I "%%~xa"==".adf" SET CAMIGDSK2=%%~a
if /I "%%~xa"==".ipf" SET CAMIGDSK2=%%~a
)

for /f "delims=" %%a in ('dir /b /a-d "%CD%\*Disk_2*"') do (
if /I "%%~xa"==".adf" SET CAMIGDSK2=%%~a
if /I "%%~xa"==".ipf" SET CAMIGDSK2=%%~a
)
for /f "delims=" %%a in ('dir /b /a-d "%CD%\*Disk2*"') do (
if /I "%%~xa"==".adf" SET CAMIGDSK2=%%~a
if /I "%%~xa"==".ipf" SET CAMIGDSK2=%%~a
)
for /f "delims=" %%a in ('dir /b /a-d "%CD%\*Disk 3*"') do (
if /I "%%~xa"==".adf" SET CAMIGDSK3=%%~a
if /I "%%~xa"==".ipf" SET CAMIGDSK3=%%~a
)
for /f "delims=" %%a in ('dir /b /a-d "%CD%\*Disk3*"') do (
if /I "%%~xa"==".adf" SET CAMIGDSK3=%%~a
if /I "%%~xa"==".ipf" SET CAMIGDSK3=%%~a
)
for /f "delims=" %%a in ('dir /b /a-d "%CD%\*Disk_3*"') do (
if /I "%%~xa"==".adf" SET CAMIGDSK3=%%~a
if /I "%%~xa"==".ipf" SET CAMIGDSK3=%%~a
)
for /f "delims=" %%a in ('dir /b /a-d "%CD%\*Disk 4*"') do (
if /I "%%~xa"==".adf" SET CAMIGDSK4=%%~a
if /I "%%~xa"==".ipf" SET CAMIGDSK4=%%~a
)
for /f "delims=" %%a in ('dir /b /a-d "%CD%\*Disk4*"') do (
if /I "%%~xa"==".adf" SET CAMIGDSK4=%%~a
if /I "%%~xa"==".ipf" SET CAMIGDSK4=%%~a
)
for /f "delims=" %%a in ('dir /b /a-d "%CD%\*Disk_4*"') do (
if /I "%%~xa"==".adf" SET CAMIGDSK4=%%~a
if /I "%%~xa"==".ipf" SET CAMIGDSK4=%%~a
)
for /f "delims=" %%a in ('dir /b /a-d "%CD%\*Disk 5*"') do (
if /I "%%~xa"==".adf" SET CAMIGDSK5=%%~a
if /I "%%~xa"==".ipf" SET CAMIGDSK5=%%~a
)
for /f "delims=" %%a in ('dir /b /a-d "%CD%\*Disk5*"') do (
if /I "%%~xa"==".adf" SET CAMIGDSK5=%%~a
if /I "%%~xa"==".ipf" SET CAMIGDSK5=%%~a
)
for /f "delims=" %%a in ('dir /b /a-d "%CD%\*Disk_5*"') do (
if /I "%%~xa"==".adf" SET CAMIGDSK5=%%~a
if /I "%%~xa"==".ipf" SET CAMIGDSK5=%%~a
)
for /f "delims=" %%a in ('dir /b /a-d "%CD%\*Disk 6*"') do (
if /I "%%~xa"==".adf" SET CAMIGDSK6=%%~a
if /I "%%~xa"==".ipf" SET CAMIGDSK6=%%~a
)
for /f "delims=" %%a in ('dir /b /a-d "%CD%\*Disk_6*"') do (
if /I "%%~xa"==".adf" SET CAMIGDSK6=%%~a
if /I "%%~xa"==".ipf" SET CAMIGDSK6=%%~a
)
for /f "delims=" %%a in ('dir /b /a-d "%CD%\*Disk6*"') do (
if /I "%%~xa"==".adf" SET CAMIGDSK6=%%~a
if /I "%%~xa"==".ipf" SET CAMIGDSK6=%%~a
)
for /f "delims=" %%a in ('dir /b /a-d "%CD%\*Disk 7*"') do (
if /I "%%~xa"==".adf" SET CAMIGDSK7=%%~a
if /I "%%~xa"==".ipf" SET CAMIGDSK7=%%~a
)
for /f "delims=" %%a in ('dir /b /a-d "%CD%\*Disk_7*"') do (
if /I "%%~xa"==".adf" SET CAMIGDSK7=%%~a
if /I "%%~xa"==".ipf" SET CAMIGDSK7=%%~a
)
for /f "delims=" %%a in ('dir /b /a-d "%CD%\*Disk7*"') do (
if /I "%%~xa"==".adf" SET CAMIGDSK7=%%~a
if /I "%%~xa"==".ipf" SET CAMIGDSK7=%%~a
)
for /f "delims=" %%a in ('dir /b /a-d "%CD%\*Disk 8*"') do (
if /I "%%~xa"==".adf" SET CAMIGDSK8=%%~a
if /I "%%~xa"==".ipf" SET CAMIGDSK8=%%~a
)
for /f "delims=" %%a in ('dir /b /a-d "%CD%\*Disk8*"') do (
if /I "%%~xa"==".adf" SET CAMIGDSK8=%%~a
if /I "%%~xa"==".ipf" SET CAMIGDSK8=%%~a
)
for /f "delims=" %%a in ('dir /b /a-d "%CD%\*Disk_8*"') do (
if /I "%%~xa"==".adf" SET CAMIGDSK8=%%~a
if /I "%%~xa"==".ipf" SET CAMIGDSK8=%%~a
)
for /f "delims=" %%a in ('dir /b /a-d "%CD%\*Disk 9*"') do (
if /I "%%~xa"==".adf" SET CAMIGDSK9=%%~a
if /I "%%~xa"==".ipf" SET CAMIGDSK9=%%~a
)
for /f "delims=" %%a in ('dir /b /a-d "%CD%\*Disk9*"') do (
if /I "%%~xa"==".adf" SET CAMIGDSK9=%%~a
if /I "%%~xa"==".ipf" SET CAMIGDSK9=%%~a
)
for /f "delims=" %%a in ('dir /b /a-d "%CD%\*Disk_9*"') do (
if /I "%%~xa"==".adf" SET CAMIGDSK9=%%~a
if /I "%%~xa"==".ipf" SET CAMIGDSK9=%%~a
)
for /f "delims=" %%a in ('dir /b /a-d "%CD%\*Disk 10*"') do (
if /I "%%~xa"==".adf" SET CAMIGDSK10=%%~a
if /I "%%~xa"==".ipf" SET CAMIGDSK10=%%~a
)
for /f "delims=" %%a in ('dir /b /a-d "%CD%\*Disk10*"') do (
if /I "%%~xa"==".adf" SET CAMIGDSK10=%%~a
if /I "%%~xa"==".ipf" SET CAMIGDSK10=%%~a
)
for /f "delims=" %%a in ('dir /b /a-d "%CD%\*Disk_10*"') do (
if /I "%%~xa"==".adf" SET CAMIGDSK10=%%~a
if /I "%%~xa"==".ipf" SET CAMIGDSK10=%%~a
)
for /f "delims=" %%a in ('dir /b /a-d "%CD%\*Disk 11*"') do (
if /I "%%~xa"==".adf" SET CAMIGDSK11=%%~a
if /I "%%~xa"==".ipf" SET CAMIGDSK11=%%~a
)
for /f "delims=" %%a in ('dir /b /a-d "%CD%\*Disk_11*"') do (
if /I "%%~xa"==".adf" SET CAMIGDSK11=%%~a
if /I "%%~xa"==".ipf" SET CAMIGDSK11=%%~a
)
for /f "delims=" %%a in ('dir /b /a-d "%CD%\*Disk11*"') do (
if /I "%%~xa"==".adf" SET CAMIGDSK11=%%~a
if /I "%%~xa"==".ipf" SET CAMIGDSK11=%%~a
)
for /f "delims=" %%a in ('dir /b /a-d "%CD%\*Disk 12*"') do (
if /I "%%~xa"==".adf" SET CAMIGDSK12=%%~a
if /I "%%~xa"==".ipf" SET CAMIGDSK12=%%~a
)
for /f "delims=" %%a in ('dir /b /a-d "%CD%\*Disk_12*"') do (
if /I "%%~xa"==".adf" SET CAMIGDSK12=%%~a
if /I "%%~xa"==".ipf" SET CAMIGDSK12=%%~a
)
for /f "delims=" %%a in ('dir /b /a-d "%CD%\*Disk12*"') do (
if /I "%%~xa"==".adf" SET CAMIGDSK12=%%~a
if /I "%%~xa"==".ipf" SET CAMIGDSK12=%%~a
)
for /f "delims=" %%a in ('dir /b /a-d "%CD%\*Disk 13*"') do (
if /I "%%~xa"==".adf" SET CAMIGDSK13=%%~a
if /I "%%~xa"==".ipf" SET CAMIGDSK13=%%~a
)
for /f "delims=" %%a in ('dir /b /a-d "%CD%\*Disk13*"') do (
if /I "%%~xa"==".adf" SET CAMIGDSK13=%%~a
if /I "%%~xa"==".ipf" SET CAMIGDSK13=%%~a
)
for /f "delims=" %%a in ('dir /b /a-d "%CD%\*Disk_13*"') do (
if /I "%%~xa"==".adf" SET CAMIGDSK13=%%~a
if /I "%%~xa"==".ipf" SET CAMIGDSK13=%%~a
)
for /f "delims=" %%a in ('dir /b /a-d "%CD%\*Disk 14*"') do (
if /I "%%~xa"==".adf" SET CAMIGDSK14=%%~a
if /I "%%~xa"==".ipf" SET CAMIGDSK14=%%~a
)
for /f "delims=" %%a in ('dir /b /a-d "%CD%\*Disk14*"') do (
if /I "%%~xa"==".adf" SET CAMIGDSK14=%%~a
if /I "%%~xa"==".ipf" SET CAMIGDSK14=%%~a
)
for /f "delims=" %%a in ('dir /b /a-d "%CD%\*Disk_14*"') do (
if /I "%%~xa"==".adf" SET CAMIGDSK14=%%~a
if /I "%%~xa"==".ipf" SET CAMIGDSK14=%%~a
)
for /f "delims=" %%a in ('dir /b /a-d "%CD%\*Disk 15*"') do (
if /I "%%~xa"==".adf" SET CAMIGDSK15=%%~a
if /I "%%~xa"==".ipf" SET CAMIGDSK15=%%~a
)
for /f "delims=" %%a in ('dir /b /a-d "%CD%\*Disk15*"') do (
if /I "%%~xa"==".adf" SET CAMIGDSK15=%%~a
if /I "%%~xa"==".ipf" SET CAMIGDSK15=%%~a
)
for /f "delims=" %%a in ('dir /b /a-d "%CD%\*Disk_15*"') do (
if /I "%%~xa"==".adf" SET CAMIGDSK15=%%~a
if /I "%%~xa"==".ipf" SET CAMIGDSK15=%%~a
)
for /f "delims=" %%a in ('dir /b /a-d "%CD%\*Disk A*"') do (
if /I "%%~xa"==".adf" SET CAMIGDSK1=%%~a
if /I "%%~xa"==".ipf" SET CAMIGDSK1=%%~a
)
for /f "delims=" %%a in ('dir /b /a-d "%CD%\*Disk_A*"') do (
if /I "%%~xa"==".adf" SET CAMIGDSK1=%%~a
if /I "%%~xa"==".ipf" SET CAMIGDSK1=%%~a
)
for /f "delims=" %%a in ('dir /b /a-d "%CD%\*DiskA*"') do (
if /I "%%~xa"==".adf" SET CAMIGDSK1=%%~a
if /I "%%~xa"==".ipf" SET CAMIGDSK1=%%~a
)
for /f "delims=" %%a in ('dir /b /a-d "%CD%\*Disk B*"') do (
if /I "%%~xa"==".adf" SET CAMIGDSK2=%%~a
if /I "%%~xa"==".ipf" SET CAMIGDSK2=%%~a
)
for /f "delims=" %%a in ('dir /b /a-d "%CD%\*Disk_B*"') do (
if /I "%%~xa"==".adf" SET CAMIGDSK2=%%~a
if /I "%%~xa"==".ipf" SET CAMIGDSK2=%%~a
)
for /f "delims=" %%a in ('dir /b /a-d "%CD%\*DiskB*"') do (
if /I "%%~xa"==".adf" SET CAMIGDSK2=%%~a
if /I "%%~xa"==".ipf" SET CAMIGDSK2=%%~a
)
for /f "delims=" %%a in ('dir /b /a-d "%CD%\*Disk C*"') do (
if /I "%%~xa"==".adf" SET CAMIGDSK3=%%~a
if /I "%%~xa"==".ipf" SET CAMIGDSK3=%%~a
)
for /f "delims=" %%a in ('dir /b /a-d "%CD%\*DiskC*"') do (
if /I "%%~xa"==".adf" SET CAMIGDSK3=%%~a
if /I "%%~xa"==".ipf" SET CAMIGDSK3=%%~a
)
for /f "delims=" %%a in ('dir /b /a-d "%CD%\*Disk_C*"') do (
if /I "%%~xa"==".adf" SET CAMIGDSK3=%%~a
if /I "%%~xa"==".ipf" SET CAMIGDSK3=%%~a
)
for /f "delims=" %%a in ('dir /b /a-d "%CD%\*Disk D*"') do (
if /I "%%~xa"==".adf" SET CAMIGDSK4=%%~a
if /I "%%~xa"==".ipf" SET CAMIGDSK4=%%~a
)
for /f "delims=" %%a in ('dir /b /a-d "%CD%\*DiskD*"') do (
if /I "%%~xa"==".adf" SET CAMIGDSK4=%%~a
if /I "%%~xa"==".ipf" SET CAMIGDSK4=%%~a
)
for /f "delims=" %%a in ('dir /b /a-d "%CD%\*Disk_D*"') do (
if /I "%%~xa"==".adf" SET CAMIGDSK4=%%~a
if /I "%%~xa"==".ipf" SET CAMIGDSK4=%%~a
)
for /f "delims=" %%a in ('dir /b /a-d "%CD%\*Disk E*"') do (
if /I "%%~xa"==".adf" SET CAMIGDSK5=%%~a
if /I "%%~xa"==".ipf" SET CAMIGDSK5=%%~a
)
for /f "delims=" %%a in ('dir /b /a-d "%CD%\*DiskE*"') do (
if /I "%%~xa"==".adf" SET CAMIGDSK5=%%~a
if /I "%%~xa"==".ipf" SET CAMIGDSK5=%%~a
)
for /f "delims=" %%a in ('dir /b /a-d "%CD%\*Disk_E*"') do (
if /I "%%~xa"==".adf" SET CAMIGDSK5=%%~a
if /I "%%~xa"==".ipf" SET CAMIGDSK5=%%~a
)
for /f "delims=" %%a in ('dir /b /a-d "%CD%\*.hdf"') do SET CAMIGHDD=%CD%\%%~a
for /f "delims=" %%a in ('dir /b /a-d "%CD%"') do (
if /I "%%~xa"==".adf" SET CAMIGDSK=%%~a
if /I "%%~xa"==".ipf" SET CAMIGDSK=%%~a
CALL :disking
)
for /f "delims=" %%a in ('dir /b/a-d "%CD%\*(AGA)*.adf"') do (
set NWROM=%%~a
if "%%~a" neq "" call :reamp
)
goto :injecCAMIGs
:reamp
"%GBC%\inifile.exe" "%GBC%\net\%EXECT%\%CAMIG%\Config.fs-uae" [config] amiga_model = A1200/20
"%GBC%\inifile.exe" "%GBC%\net\%EXECT%\%CAMIG%\Config.fs-uae" [config] chip_memory = 4096
echo.accuracy = 1>>"Config.fs-uae"
echo.ntsc_mode = 1>>"Config.fs-uae"
echo.fast_memory = 4096>>"Config.fs-uae"
echo.slow_memory = 1792>>"Config.fs-uae"
echo.zorro_iii_memory = 1048576>>"Config.fs-uae"
pushd "%CD%"
"%GBC%\fart.exe" "%GBC%\net\%EXECT%\%CAMIG%\Config.fs-uae" [KICKSTARTPTH] "[EMUPTH]\%AMIG1200%"
popd
exit /b


:disking
if /I "%CAMIGDSK%"=="%CAMIGDSK2%" SET CAMIGDSK=
if /I "%CAMIGDSK%"=="%CAMIGDSK3%" SET CAMIGDSK=
if /I "%CAMIGDSK%"=="%CAMIGDSK4%" SET CAMIGDSK=
if /I "%CAMIGDSK%"=="%CAMIGDSK5%" SET CAMIGDSK=
if /I "%CAMIGDSK%"=="" exit /b
exit /b

:injecCAMIGs
pushd "%CD%"
"%GBC%\fart.exe" "%GBC%\net\%EXECT%\%CAMIG%\Config.fs-uae" [KICKSTARTPTH] "[EMUPTH]\%AMIG500%"
if "%CAMIGHDD%"=="" "%GBC%\fart.exe" "%GBC%\net\%EXECT%\%CAMIG%\Config.fs-uae" [HDD] --remove
if "%CAMIGDSK2%"=="" "%GBC%\fart.exe" "%GBC%\net\%EXECT%\%CAMIG%\Config.fs-uae" [DSK2] --remove
if "%CAMIGDSK3%"=="" "%GBC%\fart.exe" "%GBC%\net\%EXECT%\%CAMIG%\Config.fs-uae" [DSK3] --remove
if "%CAMIGDSK4%"=="" "%GBC%\fart.exe" "%GBC%\net\%EXECT%\%CAMIG%\Config.fs-uae" [DSK4] --remove
if "%CAMIGDSK5%"=="" "%GBC%\fart.exe" "%GBC%\net\%EXECT%\%CAMIG%\Config.fs-uae" [DSK5] --remove
if "%CAMIGDSK6%"=="" "%GBC%\fart.exe" "%GBC%\net\%EXECT%\%CAMIG%\Config.fs-uae" [DSK6] --remove
if "%CAMIGDSK7%"=="" "%GBC%\fart.exe" "%GBC%\net\%EXECT%\%CAMIG%\Config.fs-uae" [DSK7] --remove
if "%CAMIGDSK8%"=="" "%GBC%\fart.exe" "%GBC%\net\%EXECT%\%CAMIG%\Config.fs-uae" [DSK8] --remove
if "%CAMIGDSK9%"=="" "%GBC%\fart.exe" "%GBC%\net\%EXECT%\%CAMIG%\Config.fs-uae" [DSK9] --remove
if "%CAMIGDSK10%"=="" "%GBC%\fart.exe" "%GBC%\net\%EXECT%\%CAMIG%\Config.fs-uae" [DSK10] --remove
if "%CAMIGDSK11%"=="" "%GBC%\fart.exe" "%GBC%\net\%EXECT%\%CAMIG%\Config.fs-uae" [DSK11] --remove
if "%CAMIGDSK12%"=="" "%GBC%\fart.exe" "%GBC%\net\%EXECT%\%CAMIG%\Config.fs-uae" [DSK12] --remove
if "%CAMIGDSK13%"=="" "%GBC%\fart.exe" "%GBC%\net\%EXECT%\%CAMIG%\Config.fs-uae" [DSK13] --remove
if "%CAMIGDSK14%"=="" "%GBC%\fart.exe" "%GBC%\net\%EXECT%\%CAMIG%\Config.fs-uae" [DSK14] --remove
if "%CAMIGDSK15%"=="" "%GBC%\fart.exe" "%GBC%\net\%EXECT%\%CAMIG%\Config.fs-uae" [DSK15] --remove
if "%CAMIGDSK%" NEQ "" "%GBC%\fart.exe" "%GBC%\net\%EXECT%\%CAMIG%\Config.fs-uae" [DSK1] "%CAMIGDSK%"
if "%CAMIGDSK1%" NEQ "" "%GBC%\fart.exe" "%GBC%\net\%EXECT%\%CAMIG%\Config.fs-uae" [DSK1] "%CAMIGDSK1%"
if "%CAMIGDSK2%" NEQ "" "%GBC%\fart.exe" "%GBC%\net\%EXECT%\%CAMIG%\Config.fs-uae" [DSK2] "%CAMIGDSK2%"
if "%CAMIGDSK3%" NEQ "" "%GBC%\fart.exe" "%GBC%\net\%EXECT%\%CAMIG%\Config.fs-uae" [DSK3] "%CAMIGDSK3%"
if "%CAMIGDSK4%" NEQ "" "%GBC%\fart.exe" "%GBC%\net\%EXECT%\%CAMIG%\Config.fs-uae" [DSK4] "%CAMIGDSK4%"
if "%CAMIGDSK5%" NEQ "" "%GBC%\fart.exe" "%GBC%\net\%EXECT%\%CAMIG%\Config.fs-uae" [DSK5] "%CAMIGDSK5%"
if "%CAMIGDSK6%" NEQ "" "%GBC%\fart.exe" "%GBC%\net\%EXECT%\%CAMIG%\Config.fs-uae" [DSK6] "%CAMIGDSK6%"
if "%CAMIGDSK7%" NEQ "" "%GBC%\fart.exe" "%GBC%\net\%EXECT%\%CAMIG%\Config.fs-uae" [DSK7] "%CAMIGDSK7%"
if "%CAMIGDSK8%" NEQ "" "%GBC%\fart.exe" "%GBC%\net\%EXECT%\%CAMIG%\Config.fs-uae" [DSK8] "%CAMIGDSK8%"
if "%CAMIGDSK9%" NEQ "" "%GBC%\fart.exe" "%GBC%\net\%EXECT%\%CAMIG%\Config.fs-uae" [DSK9] "%CAMIGDSK9%"
if "%CAMIGDSK10%" NEQ "" "%GBC%\fart.exe" "%GBC%\net\%EXECT%\%CAMIG%\Config.fs-uae" [DSK10] "%CAMIGDSK10%"
if "%CAMIGDSK11%" NEQ "" "%GBC%\fart.exe" "%GBC%\net\%EXECT%\%CAMIG%\Config.fs-uae" [DSK11] "%CAMIGDSK11%"
if "%CAMIGDSK12%" NEQ "" "%GBC%\fart.exe" "%GBC%\net\%EXECT%\%CAMIG%\Config.fs-uae" [DSK12] "%CAMIGDSK12%"
if "%CAMIGDSK13%" NEQ "" "%GBC%\fart.exe" "%GBC%\net\%EXECT%\%CAMIG%\Config.fs-uae" [DSK13] "%CAMIGDSK13%"
if "%CAMIGDSK14%" NEQ "" "%GBC%\fart.exe" "%GBC%\net\%EXECT%\%CAMIG%\Config.fs-uae" [DSK14] "%CAMIGDSK14%"
if "%CAMIGDSK15%" NEQ "" "%GBC%\fart.exe" "%GBC%\net\%EXECT%\%CAMIG%\Config.fs-uae" [DSK15] "%CAMIGDSK15%"
if "%CAMIGHDD%" NEQ "" "%GBC%\fart.exe" "%GBC%\net\%EXECT%\%CAMIG%\Config.fs-uae" [HDD] "%CAMIGHDD%"
popd
goto :CAMIGend

:CAMIGend
pushd "%CD%"
"%GBC%\fart.exe" "%GBC%\net\%EXECT%\%CAMIG%\Config.fs-uae" [ROMPTH] "%CD%"
"%GBC%\fart.exe" "%GBC%\net\%EXECT%\%CAMIG%\Config.fs-uae" \ \\
popd
exit /b